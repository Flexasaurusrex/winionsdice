<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Winions Dice Roller</title>
    <link rel="stylesheet" href="styles.css">
    
    <!-- Web3 Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/ethers@6.7.0/dist/ethers.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@web3modal/standalone@2.4.3/dist/index.umd.js"></script>
    
    <!-- Configuration -->
    <script src="config.js"></script>
</head>
<body>
    <!-- Wallet Connection Gate -->
    <div class="container" id="walletGate">
        <h1>WINIONS DICE ROLLER</h1>
        <p class="subtitle">Connect your wallet to verify Winion ownership</p>
        
        <div class="gate-content">
            <p class="gate-description">
                Only Winion holders can access the dice roller. Connect your wallet to verify you own at least one Winion NFT.
            </p>
            
            <div class="gate-winion-display">
                <img src="havoc.gif" alt="Winion" class="gate-winion-gif">
            </div>
            
            <div id="walletStatus" class="wallet-status"></div>
            
            <button class="connect-button" id="connectButton">
                CONNECT WALLET
            </button>
            
            <div id="verificationStatus" class="verification-status"></div>
        </div>
    </div>

    <!-- School Selection Screen -->
    <div class="container" id="schoolSelection" style="display: none;">
        <h1>ROLL TO MINT NEW WINION</h1>
        <p class="subtitle">Roll one of the D66 dice below</p>
        
        <p class="description">
            the winions value three different schools of mahyem which determine the life schemes of each winion. almost like choosing a religion. decide for this winion you are summoning to which school they will belong. choose wisly.
        </p>

        <div class="dice-row">
            <img src="ORANGEDIE.png" alt="Anarchy Dice" class="dice-image">
            <img src="BLUEDIE.png" alt="Mischief Dice" class="dice-image">
            <img src="GREENDIE.png" alt="Luck Dice" class="dice-image">
        </div>

        <div class="button-row">
            <button class="school-button" data-school="anarchy">
                <img src="ANARCHY.png" alt="Anarchy Icon" class="button-icon">
                <span>ANARCHY</span>
            </button>
            <button class="school-button" data-school="mischief">
                <img src="MISCHIEF.png" alt="Mischief Icon" class="button-icon">
                <span>MISCHIEF</span>
            </button>
            <button class="school-button" data-school="luck">
                <img src="LUCK.png" alt="Luck Icon" class="button-icon">
                <span>LUCK</span>
            </button>
        </div>
    </div>

    <!-- Dice Rolling Screen -->
    <div class="container" id="diceRolling" style="display: none;">
        <h1>ROLL FOR YOUR HOUSE</h1>
        <p class="subtitle school-chosen">School of <span id="chosenSchool"></span></p>

        <div class="dice-display" id="diceDisplay"></div>

        <div class="controls">
            <button class="roll-button" id="rollButton">ðŸŽ² ROLL THE DICE ðŸŽ²</button>
        </div>

        <div class="dice-total">
            <span class="total-label">YOUR TOTAL</span>
            <span class="total-value" id="totalValue">0</span>
            <span class="total-range">Range: 66-396</span>
        </div>
    </div>

    <!-- Modal Popup -->
    <div class="modal" id="modal">
        <div class="modal-content">
            <h2>YOU HAVE BEEN SORTED INTO...</h2>
            <div class="house-placeholder" id="housePlaceholder"></div>
            <h3 id="houseName"></h3>
            <p class="your-roll">Your Roll: <strong id="rollTotal"></strong></p>
            <div class="rarity-badge" id="houseRarity"></div>
            <br>
            <button class="close-button" id="closeButton">ROLL AGAIN</button>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
